<!DOCTYPE html>
<html>

<head>
    <title>Greenhouse graph</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Boostrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- Canvasjs -->
    <script type="text/javascript" src="http://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
    <script src="http://canvasjs.com/assets/script/canvasjs.min.js"></script>

    <style>
    .btn {
        height: auto;
        border: 1px solid black;
        background-color: black;
        color: white;
        border-radius: 10%;
    }
    </style>

    <script type="text/javascript">
		window.onload = function () {
		var dataPoints = []; //Temp
		var dataPoints2 = []; // Battery
		var dataPoints3 = []; //Humidity
		// EACH SENSOR DATA 
		var sensor3data = [
			dataPoints = [],
			dataPoints2 = [],
			dataPoints3 = []
		];


		$.getJSON("convertcsv.json", function(data) {  
			$.each(data, function(key, value){
				// console.log(value);
				// console.log(Date(value.recordtime));
				// ADD DATA
				if(value.sensorId == "GH003"){
					sensor3data[0].push({x: new Date(value.recordtime), y: value.temperature});
					sensor3data[1].push({x: new Date(value.recordtime), y: value.battery});
					sensor3data[2].push({x: new Date(value.recordtime), y: value.humidity});
				}
			});

				var chart3_1 = new CanvasJS.Chart("chartContainer3_1",{
					title:{
						text:"Temperature Graph Of Sensor 3"
					},
					axisX:{
				        title: "time",   
				        valueFormatString: "DD-MM-YYYY-HH-mm-ss", 
		      		},
			      	axisY:{
			        	title: "Temperature"
			     	},
					data: [{
						type: "line",
						dataPoints : sensor3data[0],
					}]
				});
				var chart3_2 = new CanvasJS.Chart("chartContainer3_2",{
					title:{
						text:"Battery Graph Of Sensor 3"
					},
					axisX:{
				        title: "time",   
				        valueFormatString: "DD-MM-YYYY-HH-mm-ss", 
		      		},
			      	axisY:{
			        	title: "Battery"
			     	},
					data: [{
						type: "line",
						dataPoints : sensor3data[1],
					}]
				});
				var chart3_3 = new CanvasJS.Chart("chartContainer3_3",{
					title:{ 
						text:"Humidity Graph Of Sensor 3"
					},
					axisX:{
				        title: "time",   
				        valueFormatString: "DD-MM-YYYY-HH-mm-ss", 
		      		},
			      	axisY:{
			        	title: "Humidity"
			     	},
					data: [{
						type: "line",
						dataPoints : sensor3data[2],
					}]
				});
				chart3_1.render();
				chart3_2.render();
				chart3_3.render();
		}); 
			
	}
</script>
	
			
</head>

<body>
                <nav class="navbar navbar-inverse">
                    <div class="container-fluid">
                        <div class="navbar-header">
                            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>
                                <span class="icon-bar"></span>                        
                            </button>
                            <a class="navbar-brand" href="#">GreenHouse</a>
                        </div>
                        <div class="collapse navbar-collapse" id="myNavbar">
                            <ul class="nav navbar-nav">
                            	<a href="index.html" class="btn btn-info" role="button">Home</a>
                            	<a href="s2.html" class="btn btn-info" role="button">Sensor2</a>
                                <a href="s3.html" class="btn btn-info" role="button">Sensor3</a>
                                <a href="s4.html" class="btn btn-info" role="button">Sensor4</a>
                                <a href="s5.html" class="btn btn-info" role="button">Sensor5</a>
                                <a href="s6.html" class="btn btn-info" role="button">Sensor6</a>
                                <a href="s7.html" class="btn btn-info" role="button">Sensor7</a>
                                <a href="s8.html" class="btn btn-info" role="button">Sensor8</a>
                                <a href="s9.html" class="btn btn-info" role="button">Sensor9</a>
                                <a href="s10.html" class="btn btn-info" role="button">Sensor10</a>
                                <a href="s11.html" class="btn btn-info" role="button">Sensor11</a>
                                <a href="s12.html" class="btn btn-info" role="button">Sensor12</a>
                                <a href="s13.html" class="btn btn-info" role="button">Sensor13</a>
                                <a href="s14.html" class="btn btn-info" role="button">Sensor14</a>
                                <a href="s15.html" class="btn btn-info" role="button">Sensor15</a>
                                <a href="s16.html" class="btn btn-info" role="button">Sensor16</a>
                                <a href="s17.html" class="btn btn-info" role="button">Sensor17</a>
                                <a href="s18.html" class="btn btn-info" role="button">Sensor18</a>
                            </ul>
                        </div>
                    </div>
                </nav>
        <!-- <div class="container">
            <div class="row">
                <div class="col-sm-4"></div>
                <div class="col-sm-4">
                    <h1> Graph of Sensor</h1>
                </div>
                <div class="col-sm-4"></div>
            </div>
        </div> -->
        <div   class="container">
	        <div class="col-md-2">
	        </div>
	        <div class="col-md-10" style="border: solid;">
		        <div class="container">
		            <div id="chartContainer3_1" style="height: 200px; width: 80%; margin-top: 30px;"></div>
		        </div>
		        <div class="container">
		            <div id="chartContainer3_2" style="height: 200px; width: 80%; margin-top: 30px;"></div>
		        </div>
		        <div class="container">
		            <div id="chartContainer3_3" style="height: 200px; width: 80%; margin-top: 30px;"></div>
		        </div>
			</div>
		</div>
</body>

</html>
